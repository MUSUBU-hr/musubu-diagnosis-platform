<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>キャリアタイプ診断 | MUSUBU</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- ===== START SCREEN ===== -->
  <div id="screen-start" class="screen">
    <div class="start-inner">
      <div class="logo">MUSUBU</div>
      <div class="ai-badge">🔍 AI診断</div>
      <h1 class="start-title">あなたのキャリアタイプ、<br>診断してみませんか？</h1>
      <p class="start-desc">
        <span class="start-desc-em">50問</span>に答えるだけで、<br><span class="start-desc-em">AI</span>があなたの<span class="start-desc-em">キャリアタイプ</span>を分析します。
      </p>
      <ul class="start-features">
        <li>✓ AIがあなたの回答を個別分析</li>
        <li>✓ 途中で中断しても再開OK</li>
        <li>✓ 診断後に結果をすぐ確認</li>
      </ul>
      <button id="btn-start" class="btn btn-primary btn-large">診断をはじめる</button>
    </div>
  </div>

  <!-- ===== BLOCK 1 ===== -->
  <div id="screen-block1" class="screen">
    <header class="block-header">
      <div class="progress-wrap">
        <div class="progress-label">
          <span class="progress-block">Block <strong>1</strong> / 5</span>
          <span class="progress-range">Q1〜Q10</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width: 20%"></div>
        </div>
      </div>
    </header>
    <div class="questions-container" id="questions-block1"></div>
    <div class="block-footer">
      <button id="btn-next-block1" class="btn btn-primary">次のブロックへ</button>
    </div>
  </div>

  <!-- ===== BLOCK 2 ===== -->
  <div id="screen-block2" class="screen">
    <header class="block-header">
      <div class="progress-wrap">
        <div class="progress-label">
          <span class="progress-block">Block <strong>2</strong> / 5</span>
          <span class="progress-range">Q11〜Q20</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width: 40%"></div>
        </div>
      </div>
    </header>
    <div class="questions-container" id="questions-block2"></div>
    <div class="block-footer">
      <button id="btn-next-block2" class="btn btn-primary">次のブロックへ</button>
    </div>
  </div>

  <!-- ===== BLOCK 3 ===== -->
  <div id="screen-block3" class="screen">
    <header class="block-header">
      <div class="progress-wrap">
        <div class="progress-label">
          <span class="progress-block">Block <strong>3</strong> / 5</span>
          <span class="progress-range">Q21〜Q30</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width: 60%"></div>
        </div>
      </div>
    </header>
    <div class="questions-container" id="questions-block3"></div>
    <div class="block-footer">
      <button id="btn-next-block3" class="btn btn-primary">次のブロックへ</button>
    </div>
  </div>

  <!-- ===== BLOCK 4 ===== -->
  <div id="screen-block4" class="screen">
    <header class="block-header">
      <div class="progress-wrap">
        <div class="progress-label">
          <span class="progress-block">Block <strong>4</strong> / 5</span>
          <span class="progress-range">Q31〜Q40</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width: 80%"></div>
        </div>
      </div>
    </header>
    <div class="questions-container" id="questions-block4"></div>
    <div class="block-footer">
      <button id="btn-next-block4" class="btn btn-primary">次のブロックへ</button>
    </div>
  </div>

  <!-- ===== BLOCK 5 ===== -->
  <div id="screen-block5" class="screen">
    <header class="block-header">
      <div class="progress-wrap">
        <div class="progress-label">
          <span class="progress-block">Block <strong>5</strong> / 5</span>
          <span class="progress-range">Q41〜Q50</span>
        </div>
        <div class="progress-track">
          <div class="progress-fill" style="width: 100%"></div>
        </div>
      </div>
    </header>
    <div class="questions-container" id="questions-block5"></div>
    <div class="block-footer">
      <button id="btn-next-block5" class="btn btn-primary">診断結果を見る</button>
    </div>
  </div>

  <!-- ===== USER INFO SCREEN ===== -->
  <div id="screen-userinfo" class="screen">
    <div class="userinfo-inner">
      <div class="result-badge">あと少し！</div>
      <h2 class="userinfo-title">診断結果は、お名前のご入力後<br>すぐに表示されます。</h2>
      <p class="userinfo-desc">あなた専用の結果ページを作成するため、<br>姓名をご入力ください。</p>
      <div class="userinfo-card">
        <div class="userinfo-form">
          <div class="form-group-row">
            <div class="form-group">
              <label class="form-label" for="input-last-name">姓</label>
              <input type="text" id="input-last-name" class="form-input" placeholder="例：山田" autocomplete="family-name">
            </div>
            <div class="form-group">
              <label class="form-label" for="input-first-name">名</label>
              <input type="text" id="input-first-name" class="form-input" placeholder="例：太郎" autocomplete="given-name">
            </div>
          </div>
          <p class="userinfo-note"><strong>※フルネーム推奨※</strong><br>フルネームをご記入いただくと、担当アドバイザーが事前に診断結果を確認し、初回面談から的確なサポートをご提供できます。</p>
          <p id="userinfo-error" class="validation-msg" style="display:none;"></p>
          <button id="btn-submit-userinfo" class="btn btn-primary btn-large">診断結果を見る</button>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== RESULT SCREEN ===== -->
  <div id="screen-result" class="screen">
    <!-- ヒーロー（タイプカラーで染まる） -->
    <div class="result-hero" id="result-hero">
      <div class="result-hero-inner">
        <div class="result-badge-white">診断完了</div>
        <div class="result-emoji" id="result-emoji"></div>
        <p class="result-title-label"><span id="result-name"></span>さんは</p>
        <div class="result-type-name" id="result-type-name"></div>
        <p class="result-tagline" id="result-tagline"></p>
        <div class="result-subtype" id="result-subtype"></div>
      </div>
    </div>

    <!-- ボディ -->
    <div class="result-body">

      <!-- 傾向マップ -->
      <div class="result-card">
        <div class="result-card-title">傾向マップ</div>
        <div id="result-map"></div>
      </div>

      <!-- タイプ別スコア -->
      <div class="result-card">
        <div class="result-card-title">タイプ別スコア</div>
        <div id="result-scores"></div>
      </div>

      <!-- AI 個別分析 -->
      <div class="result-card">
        <div class="result-card-title">✨ <span id="result-name-analysis"></span>さんの個別分析</div>
        <div id="result-analysis">
          <div class="analysis-loading">
            <div class="loading-spinner"></div>
            <span class="loading-label">AIが診断中です...</span>
          </div>
        </div>
      </div>

      <!-- 説明・特徴 -->
      <div class="result-card">
        <p id="result-type-desc" class="result-desc-text"></p>
        <div id="result-type-traits" class="result-traits-grid"></div>
      </div>

      <!-- アドバイザー用メモ -->
      <div class="result-card">
        <div class="result-card-title">📋 キャリアアドバイザー用メモ</div>
        <div id="result-advisor-memo">
          <div class="analysis-loading">
            <span class="loading-dot"></span><span class="loading-dot"></span><span class="loading-dot"></span>
            <span class="loading-label">メモを生成中...</span>
          </div>
        </div>
      </div>

<button id="btn-restart" class="btn btn-secondary">もう一度診断する</button>
    </div>
  </div>

  <script src="js/diagnosis.js"></script>
</body>
</html>
